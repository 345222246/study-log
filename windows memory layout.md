- 메모리 레이아웃이란 프로세스 가상 메모리의 구성을 말한다. 프로그램을 실행하면 운영체제는 프로세스에게 사용 가능한 메모리 공간을 할당해 준다. 컴퓨터 과학에서는 이 공간을 가상 메모리라고 부른다.
- 운영체제는 프로그램의 정보를 참조하여 프로그램에 저장된 데이터가 적절한 영역에 저장되게 한다. 

### 섹션
- 윈도우의 PE 파일은 PE 헤더와 1개 이상의 섹션으로 구성되어 있다. 여기서 섹션이란, 유사한 용도로 사용되는 데이터가 모여있는 영역이다. 
- 섹션에 대한 정보는 PE 헤더에 적혀있다. PE 헤더에 저장되는 섹션과 관련된 데이터 중, 중요한 것은 다음과 같다.
	- 섹션의 이름
	- 크기
	- 로드될 주소의 오프셋
	- 속성과 권한
- 윈도우는 PE를 실행할 때, 이 정보를 참조하여 PE의 각 섹션들을 가상 메모리의 적절한 세그먼트에 매핑한다. 
- .text 섹션은 실행 가능한 기계 코드가 위치하는 영역이다. 프로그램이 동작하려면 코드를 실행할 수 있어야 하므로 이 세그먼트에는 읽기 권한과 실행 권한이 부여된다. 
- .data 섹션에는 컴파일 시점에 값이 정해진 전역 변수들이 위치한다. CPU가 이 섹션의 데이터를 읽고 쓸 수 있어야 하므로, 읽기/쓰기 권한이 부여된다.
- .rdata 섹션에는 컴파일 시점에 값이 정해진 전역 상수와 참조할 DLL 및 외부 함수들의 정보가 저장된다. 

### 섹션이 아닌 메모리
- 윈도우의 가상 메모리 공간에는 섹션만 로드되는 것이 아니다. 프로그램 실행에 있어 필요한 스택과 힙 역시 가상 메모리에 적재된다. 
- 스택: 프로세스의 각 쓰레드는 자신만의 스택 공간을 가지고 있다. 보통 지역 변수나 함수의 리턴 주소가 저장된다. 이 영역은 자유롭게 읽고 쓸 수 있어야 하기 때문에 읽기/쓰기 권한이 부여된다. 
- 힙: 프로그램이 여러 용도로 사용하기 위해 할당받는 공간이다. 따라서 모든 종류의 데이터가 저장될 수 있다. 스택과 다른 점은 비교적 스택보다 큰 데이터를 저장할 수 있고 전역적으로 접근이 가능하도록 설계되었다는 점이다. 또한 실행 중 동적으로 할당받는 점이 다르다. 
